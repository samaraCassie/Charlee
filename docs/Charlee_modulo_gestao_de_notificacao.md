Charlee ter√° um m√≥dulo de gest√£o de notifica√ß√µes 


Abaixo, montei uma vis√£o ampla do que ele pode ser capaz, organizada por camadas de evolu√ß√£o ‚Äî do que ele j√° deve fazer at√© onde ele pode chegar com o tempo.


---

üß≠ N√çVEL 1 ‚Äî ‚ÄúFiltro e Curadoria Cognitiva‚Äù

(O n√∫cleo atual do Charlee Focus)

üß© Fun√ß√µes:

Centraliza√ß√£o de notifica√ß√µes ‚Üí recebe tudo de v√°rias fontes (e-mail, LinkedIn, Slack, WhatsApp, etc.).

Filtragem inteligente ‚Üí usa LLMs + heur√≠sticas para decidir o que √©:

Urgente (imediato)

Importante (posterior)

Irrelevante (descart√°vel)


Limpeza autom√°tica ‚Üí remove notifica√ß√µes visuais e arquiva ru√≠do digital.

Rastreamento de contexto ‚Üí entende de onde vem cada mensagem e o que ela representa.

Feedback minimalista ‚Üí te atualiza de forma limpa (‚Äú2 mensagens urgentes, 1 oportunidade, resto arquivado‚Äù).


ü™∂ Resultado:
üëâ Um ambiente digital silencioso e funcional, com foco total no essencial.


---

üîç N√çVEL 2 ‚Äî ‚ÄúCompreens√£o e Decis√£o Contextual‚Äù

üß† Capacidade sem√¢ntica

Charlee entende o que est√° acontecendo, e n√£o s√≥ o que foi dito.
Ele l√™ conte√∫do e extrai significado.

üîπ Exemplo:

> ‚ÄúParab√©ns, seu artigo foi aceito para o evento internacional X.‚Äù



Charlee entende:

√â um convite positivo

Relacionado √† carreira acad√™mica

Requer resposta e agendamento de data

Poss√≠vel impacto na tua rotina


üîπ Fun√ß√µes novas:

Gera√ß√£o de respostas contextuais (com o teu estilo lingu√≠stico)

An√°lise de tom emocional das mensagens

Context-awareness (sabe se voc√™ est√° estudando, em reuni√£o, etc.)

Autonomia para agir (criar eventos, registrar tarefas, arquivar mensagens repetidas)



---

‚è∞ N√çVEL 3 ‚Äî ‚ÄúGest√£o Temporal e de Energia‚Äù

üß© Fun√ß√µes:

Organizador de agenda inteligente

Detecta convites e hor√°rios

Agenda automaticamente (com status ‚Äútentative‚Äù)

Sugere reagendamento se houver conflito


Gestor de carga mental

Detecta sobrecarga e prop√µe redistribui√ß√£o

‚ÄúVoc√™ teve 6 horas de concentra√ß√£o cont√≠nua. Hora de uma pausa?‚Äù


Blocos de foco e descanso

Bloqueia distra√ß√µes durante per√≠odos cr√≠ticos

Sugere tempos de respira√ß√£o ou alongamento


Previs√£o de exaust√£o cognitiva

Aprende padr√µes de hor√°rio, produtividade e fadiga



üß† Aqui o Charlee Focus passa a ser um aliado da tua sa√∫de mental digital.


---

üåê N√çVEL 4 ‚Äî ‚ÄúConectividade e A√ß√£o Multicanal‚Äù

üîπ Charlee come√ßa a interagir com:

LinkedIn ‚Üí responde mensagens, agradece convites, aceita conex√µes relevantes.

GitHub / Trello / Notion ‚Üí cria ou atualiza tarefas com base nas mensagens recebidas.

Gmail ‚Üí redige respostas e organiza pastas automaticamente.

Slack / Discord ‚Üí detecta mentions diretas e sinaliza apenas o essencial.

Google Drive ‚Üí cria pastas e organiza arquivos relacionados a novos projetos.

Google Meet / Zoom ‚Üí gera links autom√°ticos para reuni√µes confirmadas.


‚ú® Tudo isso mantendo contexto entre plataformas.
Exemplo: ele entende que o ‚Äúprojeto X‚Äù mencionado num e-mail √© o mesmo ‚ÄúX‚Äù discutido num canal do Slack.


---

üß© N√çVEL 5 ‚Äî ‚ÄúCharlee Focus como Co-Piloto de Vida Digital‚Äù

üöÄ Agora ele √© mais que um organizador. Ele √© um orquestrador da tua rotina mental e profissional.

Categoria	Capacidade

Automa√ß√£o de rotina	Organiza teu dia baseado no tipo de atividade (dev, estudo, eventos rob√≥tica, etc.)
Resumo di√°rio inteligente	Gera um digest matinal: ‚ÄúHoje voc√™ tem 3 compromissos, 2 tarefas cr√≠ticas e 1 mensagem priorit√°ria.‚Äù
Gest√£o de comunica√ß√£o	Aprende com tuas respostas e replica tua forma de escrever com autenticidade.
Autoaprendizado de prefer√™ncias	Sabe que tu preferes trabalhar em foco √† tarde, ou revisar notifica√ß√µes √† noite.
Delega√ß√£o proativa	Detecta quando pode resolver algo sozinho (‚ÄúEnviei o rascunho pro Jo√£o como combinamos‚Äù).
Contexto emocional	Percebe tuas varia√ß√µes de energia (‚ÄúVoc√™ est√° respondendo mais curto que o normal, quer que eu reduza as intera√ß√µes externas por hoje?‚Äù).



---

üß¨ N√çVEL 6 ‚Äî ‚ÄúAgente Cognitivo Integrado‚Äù

(Fase de maturidade, IA aut√¥noma e simbi√≥tica)

Aqui o Charlee Focus vira o que chamamos de ‚ÄúIA companheira de contexto cont√≠nuo‚Äù ‚Äî ele entende o fio condutor da tua vida digital, unindo prop√≥sito, produtividade e bem-estar.

üí° Possibilidades:

Modo vis√£o panor√¢mica: mostra padr√µes de vida (‚ÄúTu trabalhas mais produtiva √†s quartas das 10h‚Äì14h‚Äù)

Decisor adaptativo: prop√µe a√ß√µes com base em m√©tricas cognitivas (‚ÄúEssa tarefa tem complexidade alta ‚Äî melhor fazer ap√≥s o caf√©.‚Äù)

Conex√£o com Wearables ‚Üí mede stress, foco, sono e ajusta intera√ß√µes.

Interpreta√ß√£o simb√≥lica: entende o significado do que tu fazes (‚ÄúEsse projeto √© importante pra tua carreira acad√™mica, priorizando ele.‚Äù)

Comando natural: ‚ÄúCharlee, quero um dia de foco total.‚Äù ‚Üí ele silencia, agenda blocos e guarda tudo pro resumo final.



---

üíª Implementa√ß√£o modular (para evolu√ß√£o em camadas)

M√≥dulo	Responsabilidade	Status

NotificationAgent	Captura e limpa notifica√ß√µes	‚úÖ N√∫cleo
ClassifierAgent	LLM sem√¢ntico (prioridade / tipo / contexto)	‚úÖ
ResponderAgent	Gera rascunhos de resposta	üîÑ Em progresso
EventSchedulerAgent	Integra√ß√£o com agenda e convites	üîÑ Em progresso
MemoryManager	Mem√≥ria de longo prazo + prefer√™ncias	‚è≥ Planejado
FocusManager	Bloqueio de distra√ß√µes e sugest√£o de pausas	‚è≥ Planejado
EmotionEngine	An√°lise de tom, humor e energia	üîÆ Futuro
LearningCore	Adapta√ß√£o por refor√ßo (ajuste autom√°tico de decis√µes)	üîÆ Futuro



---

üß© E mais possibilidades que voc√™ pode acoplar:

üîä Modo ‚ÄúVoz Natural‚Äù: o Charlee pode falar contigo (via TTS) e ouvir comandos (STT);

üß† Integra√ß√£o com o Agno Flow Memory para aprendizado cont√≠nuo de contexto;

üßæ Auto-documenta√ß√£o: ele gera logs leg√≠veis, tipo di√°rio de bordo (‚ÄúHoje voc√™ concluiu 4 tarefas e limpou 132 notifica√ß√µes in√∫teis‚Äù);

üßç Persona adaptativa: pode alternar entre modos (‚ÄúFoco‚Äù, ‚ÄúGentil‚Äù, ‚ÄúAssertivo‚Äù) conforme tua rotina.



---

‚ú® Em resumo:

> O Charlee Focus √© um agente que come√ßa como um curador digital de ru√≠do,
evolui para um organizador de tempo e aten√ß√£o,
e amadurece como um assistente cognitivo com consci√™ncia situacional e emocional.



Ele se torna a ponte entre:

üß© tua vida t√©cnica (desenvolvimento, projetos, rob√≥tica)

üí¨ tua comunica√ß√£o pessoal e profissional

üßò‚Äç‚ôÄÔ∏è teu bem-estar e foco mental



---



# üì¨ M√≥dulo Charlee Focus - Gest√£o Inteligente de Notifica√ß√µes

## Integra√ß√£o com Documenta√ß√£o Principal

Vou adicionar esta se√ß√£o completa √† documenta√ß√£o do Charlee, integrando o m√≥dulo Focus como um componente especializado.

---

## 17. Charlee Focus - Sistema de Gest√£o de Notifica√ß√µes

### 17.1 Vis√£o Geral

**Charlee Focus** √© o m√≥dulo respons√°vel por filtrar, curar e gerenciar o tsunami de notifica√ß√µes digitais que competem pela aten√ß√£o de Samara diariamente. Ele evolui de um simples filtro para um verdadeiro **orquestrador cognitivo** que protege foco, energia mental e bem-estar.

**Problema que resolve:**
- 200+ notifica√ß√µes/dia de m√∫ltiplas fontes
- Interrup√ß√µes constantes prejudicam deep work
- Sobrecarga de decis√µes ("devo responder isso agora?")
- Ansiedade de perder algo importante
- Burnout de comunica√ß√£o

**Solu√ß√£o:**
Um agente que **filtra ru√≠do**, **prioriza sinal**, **gera respostas**, **agenda a√ß√µes** e **protege foco** - tudo isso aprendendo continuamente com seus padr√µes e prefer√™ncias.

---

### 17.2 Arquitetura em Camadas

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    N√çVEL 6 (Futuro)                         ‚îÇ
‚îÇ              Agente Cognitivo Integrado                     ‚îÇ
‚îÇ     ‚Ä¢ Vis√£o panor√¢mica de vida digital                      ‚îÇ
‚îÇ     ‚Ä¢ Decisor adaptativo baseado em contexto               ‚îÇ
‚îÇ     ‚Ä¢ Integra√ß√£o com wearables (stress, sono)              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚ñ≤
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    N√çVEL 5 (V4-V5)                          ‚îÇ
‚îÇ            Co-Piloto de Vida Digital                        ‚îÇ
‚îÇ     ‚Ä¢ Automa√ß√£o de rotina completa                          ‚îÇ
‚îÇ     ‚Ä¢ Resumo di√°rio inteligente                             ‚îÇ
‚îÇ     ‚Ä¢ Gest√£o de comunica√ß√£o aut√¥noma                        ‚îÇ
‚îÇ     ‚Ä¢ Contexto emocional e bem-estar                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚ñ≤
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    N√çVEL 4 (V3-V4)                          ‚îÇ
‚îÇ          Conectividade e A√ß√£o Multicanal                    ‚îÇ
‚îÇ     ‚Ä¢ LinkedIn, GitHub, Trello, Notion                      ‚îÇ
‚îÇ     ‚Ä¢ Gmail, Slack, Discord                                 ‚îÇ
‚îÇ     ‚Ä¢ Google Drive, Meet, Zoom                              ‚îÇ
‚îÇ     ‚Ä¢ Contexto compartilhado entre plataformas             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚ñ≤
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    N√çVEL 3 (V2-V3)                          ‚îÇ
‚îÇ          Gest√£o Temporal e de Energia                       ‚îÇ
‚îÇ     ‚Ä¢ Organizador de agenda inteligente                     ‚îÇ
‚îÇ     ‚Ä¢ Gestor de carga mental                                ‚îÇ
‚îÇ     ‚Ä¢ Blocos de foco e descanso                             ‚îÇ
‚îÇ     ‚Ä¢ Previs√£o de exaust√£o cognitiva                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚ñ≤
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    N√çVEL 2 (V1-V2)                          ‚îÇ
‚îÇ        Compreens√£o e Decis√£o Contextual                     ‚îÇ
‚îÇ     ‚Ä¢ Capacidade sem√¢ntica (entende significado)            ‚îÇ
‚îÇ     ‚Ä¢ Gera√ß√£o de respostas contextuais                      ‚îÇ
‚îÇ     ‚Ä¢ An√°lise de tom emocional                              ‚îÇ
‚îÇ     ‚Ä¢ Autonomia para agir (criar eventos, tasks)            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚ñ≤
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    N√çVEL 1 (V1 - MVP) ‚úÖ                    ‚îÇ
‚îÇ             Filtro e Curadoria Cognitiva                    ‚îÇ
‚îÇ     ‚Ä¢ Centraliza√ß√£o de notifica√ß√µes                         ‚îÇ
‚îÇ     ‚Ä¢ Filtragem inteligente (urgente/importante/ru√≠do)      ‚îÇ
‚îÇ     ‚Ä¢ Limpeza autom√°tica                                    ‚îÇ
‚îÇ     ‚Ä¢ Rastreamento de contexto                              ‚îÇ
‚îÇ     ‚Ä¢ Feedback minimalista                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 17.3 Modelo de Dados - Focus Module

```sql
-- FONTES DE NOTIFICA√á√ÉO
CREATE TABLE notification_sources (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tipo TEXT NOT NULL,  -- 'email', 'slack', 'linkedin', 'github', etc
    nome TEXT NOT NULL,  -- Nome amig√°vel
    config JSONB,        -- Credenciais, endpoints, etc
    ativo BOOLEAN DEFAULT TRUE,
    ultima_sync TIMESTAMP,
    criado_em TIMESTAMP DEFAULT NOW()
);

-- NOTIFICA√á√ïES RECEBIDAS
CREATE TABLE notifications (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    source_id UUID REFERENCES notification_sources(id),
    
    -- Metadados originais
    external_id TEXT,
    remetente TEXT,
    assunto TEXT,
    corpo TEXT,
    url TEXT,
    anexos JSONB[],
    
    -- Classifica√ß√£o autom√°tica
    categoria TEXT,  -- 'urgente', 'importante', 'informativo', 'spam'
    prioridade INTEGER CHECK(prioridade BETWEEN 1 AND 5),
    contexto JSONB,  -- {projeto: "Lunelli", tipo: "bug_report", stakeholder: "senior"}
    
    -- An√°lise sem√¢ntica
    intencao TEXT,   -- 'solicitacao', 'informacao', 'convite', 'cobranca', etc
    tom_emocional TEXT,  -- 'neutro', 'urgente', 'amigavel', 'formal'
    entidades_extraidas JSONB,  -- {pessoas: [...], datas: [...], locais: [...]}
    embedding VECTOR(1536),  -- Para busca sem√¢ntica
    
    -- A√ß√µes autom√°ticas
    acao_sugerida TEXT,  -- 'responder', 'arquivar', 'criar_tarefa', 'agendar_reuniao'
    acao_executada TEXT,
    rascunho_resposta TEXT,
    
    -- Estados
    lida BOOLEAN DEFAULT FALSE,
    arquivada BOOLEAN DEFAULT FALSE,
    respondida BOOLEAN DEFAULT FALSE,
    snooze_until TIMESTAMP,
    
    -- Relacionamentos
    tarefa_criada_id UUID REFERENCES tarefas(id),
    evento_criado_id UUID,
    thread_id TEXT,  -- Agrupa notifica√ß√µes relacionadas
    
    recebida_em TIMESTAMP NOT NULL,
    processada_em TIMESTAMP,
    criado_em TIMESTAMP DEFAULT NOW()
);

-- REGRAS DE FILTRAGEM PERSONALIZADAS
CREATE TABLE notification_rules (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    usuario_id UUID,
    
    tipo_regra TEXT,  -- 'filter', 'auto_archive', 'auto_respond', 'escalate'
    condicoes JSONB,
    -- Exemplo: {remetente: "recruiter@*", assunto_cont√©m: "job opportunity"}
    
    acoes JSONB,
    -- Exemplo: {classificar_como: "spam", arquivar: true}
    
    prioridade INTEGER DEFAULT 100,
    ativo BOOLEAN DEFAULT TRUE,
    vezes_executada INTEGER DEFAULT 0,
    
    criado_em TIMESTAMP DEFAULT NOW(),
    atualizado_em TIMESTAMP DEFAULT NOW()
);

-- DIGEST DE NOTIFICA√á√ïES (resumos peri√≥dicos)
CREATE TABLE notification_digests (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    periodo_inicio TIMESTAMP NOT NULL,
    periodo_fim TIMESTAMP NOT NULL,
    
    estatisticas JSONB,
    -- {total: 147, urgentes: 3, arquivadas: 112, respondidas: 8}
    
    resumo_gerado TEXT,  -- Texto formatado do resumo
    notificacoes_incluidas UUID[],
    
    enviado BOOLEAN DEFAULT FALSE,
    enviado_em TIMESTAMP,
    criado_em TIMESTAMP DEFAULT NOW()
);

-- CONTEXTO DE FOCO (per√≠odos de deep work)
CREATE TABLE focus_sessions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    inicio TIMESTAMP NOT NULL,
    fim TIMESTAMP,
    
    tipo TEXT,  -- 'deep_work', 'reuniao', 'pausa', 'descanso'
    atividade TEXT,  -- 'desenvolvimento', 'estudo', 'apresentacao'
    
    interrupcoes_bloqueadas INTEGER DEFAULT 0,
    notificacoes_adiadas UUID[],
    
    qualidade_foco INTEGER CHECK(qualidade_foco BETWEEN 1 AND 10),
    notas TEXT,
    
    criado_em TIMESTAMP DEFAULT NOW()
);

-- APRENDIZADO DE PADR√ïES
CREATE TABLE notification_patterns (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tipo_padrao TEXT,  -- 'preferencia_resposta', 'horario_foco', 'prioridade_pessoa'
    
    padrao_identificado TEXT,
    dados_suporte JSONB,
    confianca_score FLOAT,
    amostras_usadas INTEGER,
    
    aplicado_automaticamente BOOLEAN DEFAULT FALSE,
    
    criado_em TIMESTAMP DEFAULT NOW(),
    atualizado_em TIMESTAMP DEFAULT NOW()
);

-- TEMPLATES DE RESPOSTA
CREATE TABLE response_templates (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    nome TEXT NOT NULL,
    categoria TEXT,  -- 'agradecimento', 'recusa_educada', 'solicitacao_info'
    
    template TEXT NOT NULL,
    -- Exemplo: "Obrigada pelo convite, {nome}! Infelizmente n√£o poderei participar em {data}."
    
    variaveis JSONB,  -- {nome: "string", data: "date"}
    
    usado_vezes INTEGER DEFAULT 0,
    taxa_aprovacao FLOAT,  -- Quantas vezes Samara aprovou sem editar
    
    criado_em TIMESTAMP DEFAULT NOW()
);

-- √çNDICES
CREATE INDEX idx_notifications_categoria ON notifications(categoria, lida);
CREATE INDEX idx_notifications_recebida ON notifications(recebida_em DESC);
CREATE INDEX idx_notifications_thread ON notifications(thread_id);
CREATE INDEX idx_notifications_embedding ON notifications USING ivfflat(embedding vector_cosine_ops);
CREATE INDEX idx_notifications_busca ON notifications USING GIN(to_tsvector('portuguese', corpo));
```

---

### 17.4 Agentes Especializados do Focus

#### 17.4.1 NotificationAgent (Coletor)

**Responsabilidade:** Conectar com m√∫ltiplas fontes e centralizar notifica√ß√µes

```python
from agno.agent import Agent
from agno.models.openai import OpenAIChat
import imaplib
import email
from slack_sdk import WebClient
import requests

class NotificationAgent(Agent):
    """Agente que coleta notifica√ß√µes de m√∫ltiplas fontes"""
    
    def __init__(self, db_connection, sources_config):
        self.db = db_connection
        self.sources = sources_config
        
        super().__init__(
            name="Notification Collector",
            model=OpenAIChat(id="gpt-4o-mini"),  # Modelo r√°pido para coleta
            instructions=[
                "Voc√™ coleta notifica√ß√µes de m√∫ltiplas fontes",
                "Normaliza formato para estrutura comum",
                "Detecta duplicatas e threads"
            ]
        )
    
    def collect_from_email(self, email_config):
        """Coleta emails n√£o lidos"""
        mail = imaplib.IMAP4_SSL(email_config['host'])
        mail.login(email_config['user'], email_config['password'])
        mail.select('INBOX')
        
        _, messages = mail.search(None, 'UNSEEN')
        notifications = []
        
        for num in messages[0].split():
            _, msg = mail.fetch(num, '(RFC822)')
            email_body = email.message_from_bytes(msg[0][1])
            
            notification = {
                'source': 'email',
                'external_id': num.decode(),
                'remetente': email_body['From'],
                'assunto': email_body['Subject'],
                'corpo': self.extract_email_body(email_body),
                'recebida_em': email_body['Date']
            }
            notifications.append(notification)
        
        return notifications
    
    def collect_from_slack(self, slack_config):
        """Coleta mensagens n√£o lidas do Slack"""
        client = WebClient(token=slack_config['token'])
        
        # Busca men√ß√µes e DMs
        response = client.conversations_list(types="im,mpim")
        notifications = []
        
        for channel in response['channels']:
            # Pega mensagens n√£o lidas
            history = client.conversations_history(
                channel=channel['id'],
                limit=50
            )
            
            for message in history['messages']:
                if not message.get('is_read', True):
                    notification = {
                        'source': 'slack',
                        'external_id': message['ts'],
                        'remetente': message.get('user'),
                        'corpo': message['text'],
                        'url': f"slack://channel?id={channel['id']}&message={message['ts']}",
                        'recebida_em': message['ts']
                    }
                    notifications.append(notification)
        
        return notifications
    
    def collect_from_linkedin(self, linkedin_config):
        """Coleta notifica√ß√µes do LinkedIn"""
        # API do LinkedIn (requer OAuth)
        headers = {
            'Authorization': f"Bearer {linkedin_config['access_token']}"
        }
        
        response = requests.get(
            'https://api.linkedin.com/v2/notifications',
            headers=headers
        )
        
        notifications = []
        for item in response.json()['elements']:
            notification = {
                'source': 'linkedin',
                'external_id': item['id'],
                'tipo': item['type'],  # 'message', 'connection_request', etc
                'corpo': item['text'],
                'url': item['actionUrl'],
                'recebida_em': item['createdAt']
            }
            notifications.append(notification)
        
        return notifications
    
    def collect_all(self):
        """Coleta de todas as fontes ativas"""
        all_notifications = []
        
        for source in self.sources:
            if not source['ativo']:
                continue
            
            try:
                if source['tipo'] == 'email':
                    notifications = self.collect_from_email(source['config'])
                elif source['tipo'] == 'slack':
                    notifications = self.collect_from_slack(source['config'])
                elif source['tipo'] == 'linkedin':
                    notifications = self.collect_from_linkedin(source['config'])
                # ... outros tipos
                
                all_notifications.extend(notifications)
                
                # Atualiza ultima_sync
                self.update_source_sync(source['id'])
                
            except Exception as e:
                logger.error(f"Erro coletando de {source['tipo']}: {e}")
        
        return all_notifications
    
    def save_notifications(self, notifications):
        """Salva notifica√ß√µes no banco"""
        for notif in notifications:
            # Verifica duplicata
            existing = self.db.execute(
                "SELECT id FROM notifications WHERE external_id = %s AND source = %s",
                (notif['external_id'], notif['source'])
            ).fetchone()
            
            if not existing:
                self.db.execute("""
                    INSERT INTO notifications 
                    (source_id, external_id, remetente, assunto, corpo, url, recebida_em)
                    VALUES (%s, %s, %s, %s, %s, %s, %s)
                """, (...))
```

#### 17.4.2 ClassifierAgent (Classificador Inteligente)

**Responsabilidade:** Analisar semanticamente e classificar notifica√ß√µes

```python
class ClassifierAgent(Agent):
    """Agente que classifica notifica√ß√µes usando LLM"""
    
    def __init__(self, db_connection, vector_db):
        self.db = db_connection
        self.vector_db = vector_db
        
        super().__init__(
            name="Notification Classifier",
            model=OpenAIChat(id="gpt-4o"),
            storage=vector_db,
            instructions=[
                "Voc√™ √© especialista em classificar notifica√ß√µes",
                "Analise contexto, urg√™ncia, inten√ß√£o e tom",
                "Considere padr√µes hist√≥ricos de Samara",
                "Seja conservador com 'urgente' - apenas emerg√™ncias reais"
            ]
        )
    
    def classify_notification(self, notification):
        """Classifica uma notifica√ß√£o"""
        
        # Busca contexto similar
        similar_context = self.vector_db.search(
            query=notification['corpo'],
            limit=5
        )
        
        # Monta prompt
        prompt = f"""
Classifique esta notifica√ß√£o:

Remetente: {notification['remetente']}
Assunto: {notification.get('assunto', '')}
Corpo: {notification['corpo']}

Contexto hist√≥rico similar:
{self.format_context(similar_context)}

Retorne JSON com:
{{
    "categoria": "urgente" | "importante" | "informativo" | "spam",
    "prioridade": 1-5,
    "intencao": "solicitacao" | "informacao" | "convite" | "cobranca" | "spam",
    "tom_emocional": "neutro" | "urgente" | "amigavel" | "formal" | "agressivo",
    "contexto": {{
        "projeto": null ou nome do projeto,
        "tipo": tipo da notifica√ß√£o,
        "stakeholder": pessoa relevante ou null
    }},
    "acao_sugerida": "responder" | "arquivar" | "criar_tarefa" | "agendar_reuniao" | "ignorar",
    "justificativa": "breve explica√ß√£o da classifica√ß√£o"
}}
"""
        
        response = self.print_response(prompt, stream=False)
        classification = json.loads(response)
        
        # Extrai entidades
        entities = self.extract_entities(notification['corpo'])
        
        # Gera embedding
        embedding = self.generate_embedding(notification['corpo'])
        
        # Atualiza no banco
        self.db.execute("""
            UPDATE notifications
            SET categoria = %s,
                prioridade = %s,
                intencao = %s,
                tom_emocional = %s,
                contexto = %s,
                acao_sugerida = %s,
                entidades_extraidas = %s,
                embedding = %s,
                processada_em = NOW()
            WHERE id = %s
        """, (
            classification['categoria'],
            classification['prioridade'],
            classification['intencao'],
            classification['tom_emocional'],
            json.dumps(classification['contexto']),
            classification['acao_sugerida'],
            json.dumps(entities),
            embedding,
            notification['id']
        ))
        
        return classification
    
    def extract_entities(self, text):
        """Extrai entidades (pessoas, datas, locais) usando NER"""
        prompt = f"""
Extraia entidades deste texto:
{text}

Retorne JSON:
{{
    "pessoas": [...],
    "datas": [...],
    "locais": [...],
    "projetos": [...],
    "empresas": [...]
}}
"""
        response = self.print_response(prompt, stream=False)
        return json.loads(response)
    
    def classify_batch(self, notifications):
        """Classifica m√∫ltiplas notifica√ß√µes em lote"""
        for notif in notifications:
            try:
                self.classify_notification(notif)
            except Exception as e:
                logger.error(f"Erro classificando notifica√ß√£o {notif['id']}: {e}")
```

#### 17.4.3 ResponderAgent (Gerador de Respostas)

**Responsabilidade:** Gerar rascunhos de resposta contextuais

```python
class ResponderAgent(Agent):
    """Agente que gera rascunhos de resposta"""
    
    def __init__(self, db_connection, vector_db):
        self.db = db_connection
        self.vector_db = vector_db
        
        super().__init__(
            name="Response Generator",
            model=OpenAIChat(id="gpt-4o"),
            storage=vector_db,
            instructions=[
                "Voc√™ gera rascunhos de resposta no estilo de Samara",
                "Seja profissional mas amig√°vel",
                "Adapte tom ao contexto (formal para stakeholders, casual para colegas)",
                "Seja concisa e objetiva",
                "Use dados espec√≠ficos quando dispon√≠veis"
            ]
        )
    
    def generate_response(self, notification_id):
        """Gera rascunho de resposta para uma notifica√ß√£o"""
        
        # Busca notifica√ß√£o
        notif = self.db.execute(
            "SELECT * FROM notifications WHERE id = %s",
            (notification_id,)
        ).fetchone()
        
        # Busca respostas similares passadas
        similar_responses = self.vector_db.search(
            query=notif['corpo'],
            filter={'tipo': 'resposta_aprovada'},
            limit=3
        )
        
        # Busca contexto relevante (projeto, OKRs, etc)
        context = self.get_relevant_context(notif)
        
        # Monta prompt
        prompt = f"""
Gere um rascunho de resposta para esta mensagem:

De: {notif['remetente']}
Assunto: {notif.get('assunto', '')}
Mensagem: {notif['corpo']}

Contexto relevante:
{json.dumps(context, indent=2)}

Respostas similares aprovadas por Samara no passado:
{self.format_similar_responses(similar_responses)}

Gere uma resposta que:
1. Seja no estilo de Samara (profissional + amig√°vel)
2. Responda diretamente o que foi perguntado
3. Use dados espec√≠ficos do contexto quando relevante
4. Seja concisa (m√°ximo 3 par√°grafos)
5. Inclua pr√≥ximos passos claros se aplic√°vel
"""
        
        response = self.print_response(prompt, stream=False)
        
        # Salva rascunho
        self.db.execute("""
            UPDATE notifications
            SET rascunho_resposta = %s
            WHERE id = %s
        """, (response, notification_id))
        
        return response
    
    def get_relevant_context(self, notification):
        """Busca contexto relevante para a resposta"""
        context = {}
        
        # Se menciona um projeto
        if notification['contexto'] and notification['contexto'].get('projeto'):
            projeto = notification['contexto']['projeto']
            
            # Busca status do projeto
            tasks = self.db.execute("""
                SELECT COUNT(*) as total,
                       COUNT(*) FILTER (WHERE status = 'Conclu√≠da') as concluidas
                FROM tarefas t
                JOIN big_rocks br ON t.big_rock_id = br.id
                WHERE br.nome = %s
            """, (projeto,)).fetchone()
            
            context['projeto_status'] = {
                'nome': projeto,
                'total_tasks': tasks['total'],
                'concluidas': tasks['concluidas'],
                'progresso': (tasks['concluidas'] / tasks['total'] * 100) if tasks['total'] > 0 else 0
            }
        
        # Se menciona uma pessoa
        if notification['entidades_extraidas'] and notification['entidades_extraidas'].get('pessoas'):
            # Busca hist√≥rico de comunica√ß√£o
            pass
        
        return context
```

#### 17.4.4 FocusGuardAgent (Protetor de Foco)

**Responsabilidade:** Gerenciar blocos de foco e interrup√ß√µes

```python
class FocusGuardAgent(Agent):
    """Agente que protege per√≠odos de deep work"""
    
    def __init__(self, db_connection):
        self.db = db_connection
        
        super().__init__(
            name="Focus Guardian",
            model=OpenAIChat(id="gpt-4o-mini"),
            instructions=[
                "Voc√™ protege o foco e a concentra√ß√£o de Samara",
                "Bloqueie interrup√ß√µes durante deep work",
                "Apenas notifica√ß√µes CR√çTICAS passam",
                "Gere resumos para per√≠odos de foco"
            ]
        )
    
    def start_focus_session(self, tipo='deep_work', duracao_minutos=120):
        """Inicia uma sess√£o de foco"""
        session = {
            'inicio': datetime.now(),
            'fim': datetime.now() + timedelta(minutes=duracao_minutos),
            'tipo': tipo,
            'ativo': True
        }
        
        session_id = self.db.execute("""
            INSERT INTO focus_sessions (inicio, fim, tipo)
            VALUES (%s, %s, %s)
            RETURNING id
        """, (session['inicio'], session['fim'], session['tipo'])).fetchone()['id']
        
        # Ativa modo n√£o perturbe
        self.enable_do_not_disturb()
        
        logger.info(f"üéØ Sess√£o de foco iniciada: {tipo} por {duracao_minutos} min")
        
        return session_id
    
    def process_notification_during_focus(self, notification):
        """Decide se notifica√ß√£o interrompe sess√£o de foco"""
        
        # Verifica se h√° sess√£o ativa
        active_session = self.db.execute("""
            SELECT * FROM focus_sessions
            WHERE inicio <= NOW() AND fim >= NOW()
            ORDER BY inicio DESC
            LIMIT 1
        """).fetchone()
        
        if not active_session:
            return 'allow'  # Sem sess√£o ativa, permite
        
        # Classifica urg√™ncia REAL
        if notification['categoria'] == 'urgente':
            # Verifica se √© urg√™ncia verdadeira
            is_truly_urgent = self.verify_urgency(notification)
            
            if is_truly_urgent:
                logger.warn(f"‚ö†Ô∏è Interrup√ß√£o permitida: {notification['assunto']}")
                return 'allow'
            else:
                logger.info(f"üõ°Ô∏è Bloqueada falsa urg√™ncia: {notification['assunto']}")
                return 'snooze'
        else:
            # N√£o √© urgente, adia para fim da sess√£o
            snooze_until = active_session['fim']
            self.db.execute("""
                UPDATE notifications
                SET snooze_until = %s
                WHERE id = %s
            """, (snooze_until, notification['id']))
            
            # Incrementa contador
            self.db.execute("""
                UPDATE focus_sessions
                SET interrupcoes_bloqueadas = interrupcoes_bloqueadas + 1,
                    notificacoes_adiadas = array_append(notificacoes_adiadas, %s)
                WHERE id = %s
            """, (notification['id'], active_session['id']))
            
            return 'blocked'
    
    def verify_urgency(self, notification):
        """Verifica se urg√™ncia √© leg√≠tima"""
        urgent_patterns = [
            'servidor down',
            'produ√ß√£o quebrada',
            'deploy falhou',
            'emerg√™ncia',
            'urgent√≠ssimo',
            'imediato'
        ]
        
        texto = (notification.get('assunto', '') + ' ' + notification['corpo']).lower()
        
        for pattern in urgent_patterns:
            if pattern in texto:
                return True
        
        # Checa remetente (stakeholders cr√≠ticos)
        critical_senders = ['senior@syssa.com', 'ceo@', 'investidor@']
        for sender in critical_senders:
            if sender in notification['remetente'].lower():
                return True
        
        return False
    
    def end_focus_session(self, session_id, qualidade_foco=None):
        """Finaliza sess√£o e gera resumo"""
        self.db.execute("""
            UPDATE focus_sessions
            SET fim = NOW(),
                qualidade_foco = %s
            WHERE id = %s
        """, (qualidade_foco, session_id))
        
        # Busca notifica√ß√µes adiadas
        snoozed = self.db.execute("""
            SELECT * FROM notifications
            WHERE id = ANY(
                SELECT unnest(notificacoes_adiadas)
                FROM focus_sessions
                WHERE id = %s
            )
        """, (session_id,)).fetchall()
        
        # Gera resumo
        summary = self.generate_focus_summary(session_id, snoozed)
        
        # Libera notifica√ß√µes adiadas
        for notif in snoozed:
            self.db.execute("""
                UPDATE notifications
                SET snooze_until = NULL
                WHERE id = %s
            """, (notif['id'],))
        
        logger.info(f"‚úÖ Sess√£o de foco finalizada. {len(snoozed)} notifica√ß√µes adiadas.")
        
        return summary
    
    def generate_focus_summary(self, session_id, snoozed_notifications):
        """Gera resumo do per√≠odo de foco"""
        session = self.db.execute(
            "SELECT * FROM focus_sessions WHERE id = %s",
            (session_id,)
        ).fetchone()
        
        duracao = (session['fim'] - session['inicio']).total_seconds() / 60
        
        summary = f"""
üéØ RESUMO DA SESS√ÉO DE FOCO

Tipo: {session['tipo']}
Dura√ß√£o: {duracao:.0f} minutos
Qualidade: {session['qualidade_foco'] or 'N√£o avaliada'}/10

üõ°Ô∏è Prote√ß√£o:
‚Ä¢ Interrup√ß√µes bloqueadas: {session['interrupcoes_bloqueadas']}
‚Ä¢ Notifica√ß√µes adiadas: {len(snoozed_notifications)}

üì¨ Durante sua sess√£o de foco, voc√™ recebeu:
"""
        
        if snoozed_notifications:
            for notif in snoozed_notifications[:5]:  # Top 5
                summary += f"‚Ä¢ {notif['remetente']}: {notif.get('assunto', notif['corpo'][:50])}\n"
            
            if len(snoozed_notifications) > 5:
                summary += f"... e mais {len(snoozed_notifications) - 5}\n"
        else:
            summary += "‚Ä¢ Nenhuma notifica√ß√£o importante\n"
        
        summary += "\nüí° Todas as notifica√ß√µes j√° est√£o dispon√≠veis para revis√£o."
        
        return summary
```

---

### 17.5 Fluxo Completo - N√≠vel 1 (V1)

```
     ‚è∞ A cada 5 minutos (Cron)
              ‚îÇ
              ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ NotificationAgent    ‚îÇ
   ‚îÇ Coleta de todas      ‚îÇ
   ‚îÇ as fontes ativas     ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
              ‚ñº
   [147 novas notifica√ß√µes]
              ‚îÇ
              ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ Verifica duplicatas  ‚îÇ
   ‚îÇ Detecta threads      ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
              ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ ClassifierAgent      ‚îÇ
   ‚îÇ Classifica em batch  ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ             ‚îÇ
       ‚ñº             ‚ñº
  [Urgente: 2]  [Importante: 8]
       ‚îÇ             ‚îÇ
       ‚ñº             ‚ñº
  [Informativo: 25] [Spam: 112]
              ‚îÇ
              ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ A√ß√µes Autom√°ticas    ‚îÇ
   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
   ‚îÇ ‚Ä¢ Spam ‚Üí Arquivar    ‚îÇ
   ‚îÇ ‚Ä¢ Informativo ‚Üí Ler+ ‚îÇ
   ‚îÇ ‚Ä¢ Importante ‚Üí Notif ‚îÇ
   ‚îÇ ‚Ä¢ Urgente ‚Üí Alert!   ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
              ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ Verifica Sess√£o Foco ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ             ‚îÇ
       ‚ñº             ‚ñº
  [Em foco]    [Foco OFF]
   Snooze        Allow
     urgentes     tudo
       ‚îÇ             ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ Notifica Samara      ‚îÇ
   ‚îÇ (minimalista)        ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
              ‚ñº
        "2 urgentes
         8 importantes
         resto arquivado"
```

---

### 17.6 Interface CLI - V1

```bash
# Ver resumo de notifica√ß√µes
$ charlee focus summary

üì¨ RESUMO DE NOTIFICA√á√ïES

üî¥ URGENTE (2):
1. S√™nior (Syssa): "Deploy Lunelli - Status?"
2. Cliente FAPESC: "Mudan√ßa de escopo - ASAP"

üü° IMPORTANTE (8):
‚Ä¢ GitHub: 3 PRs aguardando review
‚Ä¢ Slack: 2 mentions diretas
‚Ä¢ Email: 3 solicita√ß√µes de reuni√£o

üîµ INFORMATIVO (25):
‚Ä¢ Newsletters: 12
‚Ä¢ Atualiza√ß√µes de projeto: 8
‚Ä¢ Convites de eventos: 5

üóëÔ∏è ARQUIVADO AUTOMATICAMENTE (112):
‚Ä¢ Spam: 87
‚Ä¢ Marketing: 18
‚Ä¢ Irrelevante: 7

‚è±Ô∏è Tempo economizado: ~47 minutos

---

# Iniciar sess√£o de foco
$ charlee focus start --duration 120

üéØ SESS√ÉO DE FOCO INICIADA

Tipo: Deep Work
Dura√ß√£o: 120 minutos
Fim previsto: 12:30

üõ°Ô∏è Modo N√£o Perturbe ATIVO
‚Ä¢ Apenas notifica√ß√µes CR√çTICAS passar√£o
‚Ä¢ Demais ser√£o adiadas para 12:30
‚Ä¢ Voc√™ pode encerrar com: charlee focus end

üí° Dica: Desabilite notifica√ß√µes visuais do OS tamb√©m!

---

# Ver notifica√ß√µes adiadas
$ charlee focus snoozed

üì¨ NOTIFICA√á√ïES ADIADAS (durante foco)

‚Ä¢ LinkedIn: Convite de conex√£o (Ana Silva)
‚Ä¢ Slack: Mensagem no #geral
‚Ä¢ Email: Newsletter semanal (3)

Liberadas em: 35 minutos (12:30)

---

# Responder notifica√ß√£o com IA
$ charlee focus respond 1

üî¥ NOTIFICA√á√ÉO URGENTE #1

De: senior@syssa.com
Assunto: Deploy Lunelli - Status?
Mensagem: "Samara, como est√° o deploy? O cliente est√° cobrando."

üí¨ RASCUNHO GERADO:

"Bom dia! O deploy teve algumas intercorr√™ncias com o m√≥dulo
de autentica√ß√£o, mas j√° identificamos a causa raiz. Estamos
aplicando o hotfix agora e deve estar estabilizado at√© √†s 14h.

Posso te atualizar pessoalmente √†s 15h com todos os detalhes?"

Aprovar? [S/n/editar]:

---

# Criar regra personalizada
$ charlee focus rule add

Criar nova regra de filtragem:

Quando: remetente cont√©m "recruiter"
E: assunto cont√©m "job opportunity"
Ent√£o: classificar como "spam" e arquivar

Salvar regra? [S/n]: S

‚úÖ Regra criada! 

---

# Ver estat√≠sticas
$ charlee focus stats --period week

üìä ESTAT√çSTICAS (√∫ltima semana)

Notifica√ß√µes recebidas: 1,247
‚îú‚îÄ Urgentes: 14 (1.1%)
‚îú‚îÄ Importantes: 89 (7.1%)
‚îú‚îÄ Informativas: 312 (25.0%)
‚îî‚îÄ Spam (auto-arquivadas): 832 (66.7%)

‚è±Ô∏è Tempo economizado: ~6.2 horas

üéØ Sess√µes de foco: 12
‚îú‚îÄ Dura√ß√£o m√©dia: 97 minutos
‚îú‚îÄ Interrup√ß√µes bloqueadas: 47
‚îî‚îÄ Qualidade m√©dia: 8.2/10

üí¨ Respostas geradas: 23
‚îî‚îÄ Taxa de aprova√ß√£o: 87% (sem edi√ß√£o)

üèÜ Sua produtividade aumentou 34% esta semana!
```

---

### 17.7 Integra√ß√£o com Outros M√≥dulos

**Com Wellness Coach:**
```python
# Durante fase menstrual, Focus √© mais protetor
if wellness_coach.get_current_phase() == 'menstrual':
    focus_guard.threshold_urgency = 'critical_only'  # Apenas cr√≠tico
    focus_guard.default_snooze_duration = 180  # 3h ao inv√©s de 2h
```

**Com Capacity Guardian:**
```python
# Se carga > 90%, Focus bloqueia mais agressivamente
if capacity_guardian.get_current_load() > 0.9:
    focus_guard.auto_decline_meetings = True
    focus_guard.generate_busy_responses = True
```

**Com Strategic Advisor:**
```python
# Notifica√ß√µes podem virar insights estrat√©gicos
if notification['categoria'] == 'oportunidade':
    strategic_advisor.analyze_opportunity(notification)
```

---

### 17.8 Roadmap do Focus Module

| N√≠vel | Features | Vers√£o | Status |
|-------|----------|--------|--------|
| **1** | Coleta + Classifica√ß√£o + Filtragem | V1 | ‚úÖ MVP |
| **2** | Respostas autom√°ticas + NER | V2 | üîÑ Em progresso |
| **3** | Gest√£o de agenda + Carga mental | V2-V3 | ‚è≥ Planejado |
| **4** | Multi-canal + Contexto compartilhado | V3-V4 | ‚è≥ Planejado |
| **5** | Co-piloto completo + Automa√ß√£o | V4-V5 | üîÆ Futuro |
| **6** | IA Cognitiva + Wearables | V5-V6 | üîÆ Vis√£o |

---

### 17.9 M√©tricas de Sucesso

**KPIs do Focus Module:**

```python
success_metrics = {
    'tempo_economizado_semana': 6.2,  # horas
    'taxa_precisao_classificacao': 0.94,  # 94%
    'taxa_aprovacao_rascunhos': 0.87,  # 87% sem edi√ß√£o
    'interrupcoes_bloqueadas': 47,  # por semana
    'qualidade_foco_media': 8.2,  # /10
    'reducao_ansiedade': 0.42,  # 42% (self-reported)
    'satisfacao_usuario': 9.1  # /10
}
```

**Meta V1**: Economizar 5+ horas/semana de Samara

**Meta V5**: Samara n√£o precisa mais "gerenciar" notifica√ß√µes, apenas revisa resumos.

---
